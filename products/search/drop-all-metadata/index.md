# .drop all metadata (Deprecated)




> ##### Deprecated Feature
>
> Cribl is deprecating this feature. We'll remove it in a future release.
>
> Please continue to report issues through normal Cribl [support channels](/support/), but assistance for
> deprecated features might be limited.
{.box .warning}

The `.drop all metadata` command deletes all Cribl Search metadata for the specified Datasets.

```kusto {runSearch=true}
// drop metadata from the cribl_search_sample Dataset
.drop all metadata(cribl_search_sample)
```

## Purpose

Use `.drop all metadata` to delete Cribl Search [metadata](commands#generate-metadata-for-a-dataset) generated by
[`.generate metadata`](generate-metadata) or [Dataset Acceleration](acceleration).

You can use `.drop all metadata` with the following [Dataset Provider](basic-concepts#dataset-providers) types:

- [Cribl Lake](/lake/datasets)
- [Amazon S3](set-up-s3)
- [Azure Blob Storage](set-up-azure-blob)
- [Google Cloud Storage](set-up-google-cloud-storage)
- [Amazon Security Lake](set-up-amazon-security-lake) (only in the [**Quick** mode](acceleration#modes))


> To see which Datasets contain Cribl Search metadata, run [`dataset=$vt_object_list_summary`](vt_object_list_summary).
{.box .info}

## Permissions

| [Search Member Type](cloud-managing#search-member-roles) | Permissions                                                                                                                                            |
| -------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------ |
| Admin                                                    | Can drop metadata from all Datasets in their Organization.                                                                                             |
| Editor                                                   | Can drop metadata only from those Datasets that they created themselves or that were [shared](sharing#share-datasets-and-dataset-providers) with them. |
| User                                                     | Can drop metadata only from those Datasets that were shared with them.                                                                                 |

## Syntax

    `
.drop all metadata(DatasetID[, ...])
                  [with(reason = "InvestigationReason")]`




You can also combine this command with [operators](operators).


### Parameters

| Parameter             | Type               | Description                                                                                                                        |
| --------------------- | ------------------ | ---------------------------------------------------------------------------------------------------------------------------------- |
| `DatasetID`           | [`string`](string) | The ID of the Dataset that you want to clear of metadata. Separate multiple IDs with a comma `,`. Wildcards `*` are not supported. |
| `InvestigationReason` | [`string`](string) | The reason for running the `.drop all metadata` command, which is added to the Cribl Search audit log.                             |

## Returns

Returns an event per each processed Dataset, with the following fields:

| Field         | Description                                                         |
| ------------- | ------------------------------------------------------------------- |
| `success`     | `true` if the metadata was successfully deleted, `false` otherwise. |
| `dataset`     | The ID of the Dataset that was cleared of metadata.                 |
| `datasetType` | The type of the Dataset that was cleared of metadata.               |
| `message`     | A success or error message.                                         |

## Examples

Drop Cribl Search metadata from the `cribl_search_sample` Dataset.

```kusto {runSearch=true}
.drop all metadata(cribl_search_sample) with(reason = "I don't need this metadata anymore.")
```
